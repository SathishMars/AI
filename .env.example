# Environment Configuration for Groupize Workflows
#
# Copy this file to .env.local and configure your settings:
# cp .env.example .env.local

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Options: 'local' for MongoDB, 'documentdb' for AWS DocumentDB
DATABASE_ENVIRONMENT=local

# MongoDB Connection URI (for local development)
# Used by both MongoDB connection utility and LangChain for conversation memory
MONGODB_URI=mongodb://groupize_app:your-password-here@localhost:27017/groupize-workflows

# AWS DocumentDB (Production)
# Only required when DATABASE_ENVIRONMENT=documentdb
# for local testing you can download the cert using the following command:
#   wget https://truststore.pki.rds.amazonaws.com/global/global-bundle.pem -O rds-combined-ca-bundle.pem
# DOCUMENTDB_URI=mongodb://dbuser:Admin321@groupize-test-nextjs-631728481733.us-east-1.docdb-elastic.amazonaws.com:27017/groupize-workflows?tls=true&authMechanism=SCRAM-SHA-1&retryWrites=false
# DOCUMENTDB_CA_FILE_PATH=<your-path-to-certs>/rds-combined-ca-bundle.pem

# =============================================================================
# AI API KEYS (Required)
# =============================================================================
OPENAI_API_KEY=sk-your-openai-api-key-here
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# OpenAI Model Override Configuration (Optional - uses defaults if not set)
# Override specific models for different use cases
#OPENAI_MODEL_WORKFLOW=gpt-5-mini # model examples - gpt-5-nano	, gpt-4o, gpt-4o-mini, gpt-5-mini, gpt-4.1, gpt-5, gpt-5-codex, gpt-5-mini, gpt-4o-mini
OPENAI_MODEL_WORKFLOW=gpt-4.1-mini

# Anthropic Model Configuration
# Available Claude 4 models (latest generation):
# - claude-sonnet-4-5-20250929 (Smartest for complex agents & coding, $3/$15 per MTok, 200K-1M context)
# - claude-haiku-4-5-20251001 (Fastest with near-frontier intelligence, $1/$5 per MTok, 200K context)
# - claude-opus-4-1-20250805 (Exceptional for specialized reasoning, $15/$75 per MTok, 200K context)
#
# Legacy Claude 3.5 models:
# - claude-3-5-sonnet-20241022 (Previous generation Sonnet)
# - claude-3-5-sonnet-20240620 (Older Claude 3.5 Sonnet)
ANTHROPIC_MODEL_WORKFLOW=claude-sonnet-4-5-20250929

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=development

# Application Settings
NEXT_PUBLIC_APP_ENV=development
NEXT_PUBLIC_ENABLE_MOCK_DATA=false
NEXT_PUBLIC_BASE_PATH=/aime

# =============================================================================
# JWT Authentication Configuration
# =============================================================================

# Rails base URL (for embedded mode)
# 
# IMPORTANT: The .local TLD causes DNS resolution timeouts on macOS
# --------------------------------------------------------------------
# The .local domain is reserved for mDNS (Bonjour) per RFC 6762, causing
# macOS to attempt multicast DNS resolution first, which times out (3-5 seconds)
# before falling back to /etc/hosts.
#
# References:
# - Apple Support: https://support.apple.com/en-us/101903
# - RFC 6762: https://datatracker.ietf.org/doc/html/rfc6762
#
# RECOMMENDED: Use 127.0.0.1 (default below)
NEXT_PUBLIC_RAILS_BASE_URLL=http://127.0.0.1
NEXT_PUBLIC_RAILS_BASE_URL=http://groupize.local

# ALTERNATIVE: Fix groupize.local by adding BOTH IPv4 and IPv6 to /etc/hosts:
# 1. Edit /etc/hosts: sudo nano /etc/hosts
# 2. Add both lines:
#    127.0.0.1       groupize.local
#    ::1             groupize.local
# 3. Then you can use: NEXT_PUBLIC_RAILS_BASE_URL=http://groupize.local
# 
# More info: https://www.peterbe.com/plog/make-.local-domains-not-slow-in-macos


# Split-Routing Mode Environment Configuration
# ==============================================
# NEXT_PUBLIC_RAILS_BASE_URLhttps://testing.app.groupize.com
# NEXT_PUBLIC_APP_URL=https://testing.app.groupize.com

# JWT settings (must match Rails configuration)
JWT_ISSUER=groupize
JWT_AUDIENCE=workflows
JWT_SECRET=dev-secret-change-me

# Cookie name (must match Rails)
COOKIE_NAME=gpw_session

